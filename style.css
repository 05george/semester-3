html, body {
    margin: 0; padding: 0; height: 100%; overflow: hidden; background: black;
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

#scroll-container {
    width: 100vw; height: 100svh; overflow-x: auto; overflow-y: hidden;
    -webkit-overflow-scrolling: touch; background: #111;
}

#main-svg {
    height: 100%; width: auto; display: block; opacity: 0;
    transition: opacity .5s ease-in;
}

/* المستطيلات */
.m { fill: transparent; stroke-width: 3px; cursor: pointer; transition: all 0.3s; }
.q { stroke: red; } .v { stroke: blue; } .i { stroke: white; }
.a { stroke: purple; } .l { stroke: yellow; } .s { stroke: green; }

/* النصوص */
.rect-label {
    pointer-events: none; user-select: none; font-family: sans-serif;
    font-weight: bold; fill: white; stroke: black; stroke-width: 0.8px;
    paint-order: stroke; text-anchor: middle;
}

/* القائمة الجانبية */
#js-toggle-container {
    position: fixed; right: 20px; top: 20px; z-index: 1000;
    background: rgba(0,0,0,0.8); padding: 15px; border-radius: 10px;
    color: white; font-family: Arial; display: flex; flex-direction: column; gap: 10px;
}

/* شاشة التحميل */
#loading-overlay {
    position: fixed; inset: 0; background: black; z-index: 9999;
    display: flex; align-items: center; justify-content: center; transition: opacity 0.4s;
}

#splash-image { max-width: 200px; border-radius: 15px; margin-bottom: 20px; }

.light-bulb { width: 15px; height: 15px; border-radius: 50%; background: #333; display: inline-block; margin: 5px; }
.light-bulb.on { background: #ffcc00; box-shadow: 0 0 15px #ffcc00; }

.switch { position: relative; width: 40px; height: 20px; }
.slider { position: absolute; inset: 0; background: #ccc; border-radius: 20px; cursor: pointer; }
.slider:before { content: ""; position: absolute; height: 14px; width: 14px; left: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.4s; }
input:checked + .slider { background: #2196F3; }
input:checked + .slider:before { transform: translateX(20px); }